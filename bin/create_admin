#!/usr/bin/env bash

if [[ -n $1 ]];
then

  name="$1"

else

echo "Error!
      You must pass all parameters to the script
      Usage: ./create_admin <name> <surname> <telegram_username> <phone_number> <email>"
    exit 1

fi

if [[ -n $2 ]];
then

  surname="$2"

else

echo "Error!
      You must pass all parameters to the script
      Usage: ./create_admin <name> <surname> <telegram_username> <phone_number> <email>"
    exit 1

fi


if [[ -n $3 ]];
then

  telegram_username="$3"

else

echo "Error!
      You must pass all parameters to the script
      Usage: ./create_admin <name> <surname> <telegram_username> <phone_number> <email>"
    exit 1

fi

if [[ -n $4 ]];
then

  phone_number="$4"

else

echo "Error!
      You must pass all parameters to the script
      Usage: ./create_admin <name> <surname> <telegram_username> <phone_number> <email>"
    exit 1

fi

if [[ -n $5 ]];
then

  email="$5"

else

echo "Error!
      You must pass all parameters to the script
      Usage: ./create_admin <name> <surname> <telegram_username> <phone_number> <email>"
    exit 1

fi

echo 'db.createCollection("User")' | sudo mongo localhost:27017/ESIT
echo "db.insertCollection({name:${name}, surname:${surname}, username:${telegram_username}, phone_number:${phone_number}, email:${email}, admin:true})"

echo "Done!"
echo "Connect to your bot using telegram app and send command /register."

