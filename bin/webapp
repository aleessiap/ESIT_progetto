#!/usr/bin/env bash

command=$1

case $command in

  "start")
    (cd $WEBAPP_DIR && sudo npm run mongod_start)
    (cd $WEBAPP_DIR && sudo npm run prod_backend_start)
    (cd $WEBAPP_DIR && sudo npm run prod_frontend_start)
    ;;

  "stop")
    (cd $WEBAPP_DIR && sudo npm run mongod_stop)
    (cd $WEBAPP_DIR && sudo npm run prod_backend_stop)
    (cd $WEBAPP_DIR && sudo npm run prod_frontend_stop)
    ;;

  "restart")
    (cd $WEBAPP_DIR && sudo npm run mongod_restart)
    (cd $WEBAPP_DIR && sudo npm run prod_backend_restart)
    (cd $WEBAPP_DIR && sudo npm run prod_frontend_restart)
    ;;

  *)
echo "Syntax error!
      You must select an operation.
      Usage: webapp <operation>
      Available operations:
        - start
        - stop
        - restart"
    ;;
esac
