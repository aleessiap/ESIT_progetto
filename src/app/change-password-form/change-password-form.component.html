<div class="row justify-content-center">
  <div class="col-md-8">

    <div *ngIf = "loggedIn == 'True' && currentUser == id">
      <div *ngIf = "modified" class="alert alert-success" style="margin-top: 10px; margin-bottom: 10px;">
        Password aggiornata correttamente!
      </div>
      <div *ngIf = "wrongPassword" class="alert alert-danger" style="margin-top: 10px; margin-bottom: 10px;">
        Vecchia password sbagliata!
      </div>
      <div *ngIf = "mismatch" class="alert alert-danger" style="margin-top: 10px; margin-bottom: 10px;">
        Le password non corrispondono!
      </div>
      <div class="card">
        <h4 class="card-header">Cambia password:</h4>
        <div class="card-body  align-items-center">
          <form [formGroup]="changePassword"  >

            <div class="row px-3 form-group input">
              <label for="oldPassword" class="mb-1">
                Password attuale:
              </label>
              <input type="password" id="oldPassword" formControlName="oldPassword" class="form-control" placeholder="Password vecchia"  [ngClass]="{ 'is-invalid': submitted && changePassword.controls.oldPassword.errors}" />
              <div *ngIf="submitted && changePassword.controls.oldPassword.errors" class="invalid-feedback">
                <div  *ngIf="changePassword.controls.oldPassword.errors.required">
                  La password attuale è obbligatoria.
                </div>
              </div>
            </div>

            <div class="row px-3 form-group input">
              <label for="password" class="mb-1">Nuova password: </label>
              <input type="password"  id="password" formControlName="password" class="form-control" placeholder="Nuova password" [ngClass]="{ 'is-invalid': submitted && changePassword.controls.password.errors}" />

              <div *ngIf="submitted && changePassword.controls.password.errors" class="invalid-feedback">
                <div *ngIf="changePassword.controls.password.errors.required" >
                  L'inserimento di una nuova password è obbligatorio.
                </div>
              </div>

            </div>

            <div class="row px-3 form-group input">

              <label for="confirmation" class="mb-1">Conferma della nuova password: </label>
              <input type="password" id="confirmation" formControlName="confirmation" class="form-control" placeholder="Conferma la nuova password" [ngClass]="{ 'is-invalid': submitted && changePassword.controls.confirmation.errors}" />
              <div *ngIf="submitted && changePassword.controls.confirmation.errors" class="invalid-feedback">
                <div *ngIf="changePassword.controls.confirmation.errors.required" >
                  La conferma della password scelta è obbligatoria.
                </div>
              </div>

            </div>
            <!--     <div  *ngIf="notMatch" class="invalid-feedback show">
              New password and confirmation don't match!
            </div>
            <div  *ngIf="wrongPassword" class="invalid-feedback show ">
              Old password wrong!
            </div> -->

            <div class="form-group mx-sm-3 input">
              <div class="d-inline-block">
                <button (click)="save()" type="submit" class="btn btn-primary spacingButton" >
                  Salva
                </button>
                <a role="button" (click)="cancel()" class="btn btn-link ">Indietro</a>

              </div>
            </div>

          </form>
        </div>
      </div>
    </div>

    <div *ngIf="!loggedIn || loggedIn == 'False' || currentUser != id">
      <h3>Non puoi accedere a questa pagina!</h3>
    </div>

  </div>
</div>
